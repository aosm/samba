.\" This manpage has been automatically generated by docbook2man-spec
.\" from a DocBook document.  docbook2man-spec can be found at:
.\" <http://shell.ipoline.com/~elmert/hacks/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "TESTPRNS" "1" "06 December 2001" "" ""
.SH NAME
testprns \- check printer name for validity with smbd
.SH SYNOPSIS
.sp
\fBtestprns\fR \fBprintername\fR [ \fBprintcapname\fR ] 
.SH "DESCRIPTION"
.PP
This tool is part of the  Sambasuite.
.PP
\fBtestprns\fR is a very simple test program 
to determine whether a given printer name is valid for use in 
a service to be provided by \fB smbd(8)\fR. 
.PP
"Valid" in this context means "can be found in the 
printcap specified". This program is very stupid - so stupid in 
fact that it would be wisest to always specify the printcap file 
to use. 
.SH "OPTIONS"
.TP
\fBprintername\fR
The printer name to validate.

Printer names are taken from the first field in each 
record in the printcap file, single printer names and sets 
of aliases separated by vertical bars ("|") are recognized. 
Note that no validation or checking of the printcap syntax is 
done beyond that required to extract the printer name. It may
be that the print spooling system is more forgiving or less 
forgiving than \fBtestprns\fR. However, if 
\fBtestprns\fR finds the printer then 
\fBsmbd\fR should do so as well. 
.TP
\fBprintcapname\fR
This is the name of the printcap file within
which to search for the given printer name. 

If no printcap name is specified \fBtestprns
\fRwill attempt to scan the printcap file name 
specified at compile time. 
.SH "FILES"
.TP
\fB\fI/etc/printcap\fB\fR
This is usually the default printcap 
file to scan. See \fIprintcap (5)\fR. 
.SH "DIAGNOSTICS"
.PP
If a printer is found to be valid, the message 
"Printer name <printername> is valid" will be 
displayed. 
.PP
If a printer is found to be invalid, the message
"Printer name <printername> is not valid" will be 
displayed. 
.PP
All messages that would normally be logged during
operation of the Samba daemons are logged by this program to the 
file \fItest.log\fR in the current directory. The
program runs at debuglevel 3, so quite extensive logging 
information is written. The log should be checked carefully 
for errors and warnings. 
.PP
Other messages are self-explanatory. 
.SH "VERSION"
.PP
This man page is correct for version 2.2 of 
the Samba suite.
.SH "SEE ALSO"
.PP
\fIprintcap(5)\fR, 
\fBsmbd(8)\fR, 
\fBsmbclient(1)\fR
.SH "AUTHOR"
.PP
The original Samba software and related utilities 
were created by Andrew Tridgell. Samba is now developed
by the Samba Team as an Open Source project similar 
to the way the Linux kernel is developed.
.PP
The original Samba man pages were written by Karl Auer. 
The man page sources were converted to YODL format (another 
excellent piece of Open Source software, available at
ftp://ftp.icce.rug.nl/pub/unix/ <URL:ftp://ftp.icce.rug.nl/pub/unix/>) and updated for the Samba 2.0 
release by Jeremy Allison. The conversion to DocBook for 
Samba 2.2 was done by Gerald Carter
