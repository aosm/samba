.\" This manpage has been automatically generated by docbook2man-spec
.\" from a DocBook document.  docbook2man-spec can be found at:
.\" <http://shell.ipoline.com/~elmert/hacks/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "TESTPARM" "1" "06 December 2001" "" ""
.SH NAME
testparm \- check an smb.conf configuration file for  internal correctness
.SH SYNOPSIS
.sp
\fBtestparm\fR [ \fB-s\fR ]  [ \fB-h\fR ]  [ \fB-L <servername>\fR ]  \fBconfig filename\fR [ \fBhostname hostIP\fR ] 
.SH "DESCRIPTION"
.PP
This tool is part of the  Sambasuite.
.PP
\fBtestparm\fR is a very simple test program 
to check an \fBsmbd\fR configuration file for 
internal correctness. If this program reports no problems, you 
can use the configuration file with confidence that \fBsmbd
\fRwill successfully load the configuration file.
.PP
Note that this is \fBNOT\fR a guarantee that 
the services specified in the configuration file will be 
available or will operate as expected. 
.PP
If the optional host name and host IP address are 
specified on the command line, this test program will run through 
the service entries reporting whether the specified host
has access to each service. 
.PP
If \fBtestparm\fR finds an error in the \fI smb.conf\fR file it returns an exit code of 1 to the calling 
program, else it returns an exit code of 0. This allows shell scripts 
to test the output from \fBtestparm\fR.
.SH "OPTIONS"
.TP
\fB-s\fR
Without this option, \fBtestparm\fR 
will prompt for a carriage return after printing the service 
names and before dumping the service definitions.
.TP
\fB-h\fR
Print usage message 
.TP
\fB-L servername\fR
Sets the value of the %L macro to \fIservername\fR.
This is useful for testing include files specified with the 
%L macro. 
.TP
\fBconfigfilename\fR
This is the name of the configuration file 
to check. If this parameter is not present then the 
default \fIsmb.conf\fR file will be checked. 
.TP
\fBhostname\fR
If this parameter and the following are 
specified, then \fBtestparm\fR will examine the \fIhosts
allow\fR and \fIhosts deny\fR 
parameters in the \fIsmb.conf\fR file to 
determine if the hostname with this IP address would be
allowed access to the \fBsmbd\fR server. If 
this parameter is supplied, the hostIP parameter must also
be supplied.
.TP
\fBhostIP\fR
This is the IP address of the host specified 
in the previous parameter. This address must be supplied 
if the hostname parameter is supplied. 
.SH "FILES"
.TP
\fB\fIsmb.conf\fB\fR
This is usually the name of the configuration 
file used by \fBsmbd\fR. 
.SH "DIAGNOSTICS"
.PP
The program will issue a message saying whether the 
configuration file loaded OK or not. This message may be preceded by 
errors and warnings if the file did not load. If the file was 
loaded OK, the program then dumps all known service details 
to stdout. 
.SH "VERSION"
.PP
This man page is correct for version 2.2 of 
the Samba suite.
.SH "SEE ALSO"
.PP
\fIsmb.conf(5)\fR, 
\fBsmbd(8)\fR
.SH "AUTHOR"
.PP
The original Samba software and related utilities 
were created by Andrew Tridgell. Samba is now developed
by the Samba Team as an Open Source project similar 
to the way the Linux kernel is developed.
.PP
The original Samba man pages were written by Karl Auer. 
The man page sources were converted to YODL format (another 
excellent piece of Open Source software, available at
ftp://ftp.icce.rug.nl/pub/unix/ <URL:ftp://ftp.icce.rug.nl/pub/unix/>) and updated for the Samba 2.0 
release by Jeremy Allison. The conversion to DocBook for 
Samba 2.2 was done by Gerald Carter
