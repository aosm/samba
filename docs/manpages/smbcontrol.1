.\" This manpage has been automatically generated by docbook2man-spec
.\" from a DocBook document.  docbook2man-spec can be found at:
.\" <http://shell.ipoline.com/~elmert/hacks/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "SMBCONTROL" "1" "06 December 2001" "" ""
.SH NAME
smbcontrol \- send messages to smbd or nmbd processes
.SH SYNOPSIS
.sp
\fBsmbcontrol\fR [ \fB-i\fR ] 
.sp
\fBsmbcontrol\fR [ \fBdestination\fR ]  [ \fBmessage-type\fR ]  [ \fBparameter\fR ] 
.SH "DESCRIPTION"
.PP
This tool is part of the  Sambasuite.
.PP
\fBsmbcontrol\fR is a very small program, which 
sends messages to an smbd(8)or 
an nmbd(8)daemon running on the 
system.
.SH "OPTIONS"
.TP
\fB-i\fR
Run interactively. Individual commands 
of the form destination message-type parameters can be entered 
on STDIN. An empty command line or a "q" will quit the 
program.
.TP
\fBdestination\fR
One of \fInmbd\fR
\fIsmbd\fR or a process ID.

The \fIsmbd\fR destination causes the 
message to "broadcast" to all smbd daemons.

The \fInmbd\fR destination causes the 
message to be sent to the nmbd daemon specified in the 
\fInmbd.pid\fR file.

If a single process ID is given, the message is sent 
to only that process.
.TP
\fBmessage-type\fR
One of: close-share,
debug, 
force-election, ping
, profile,  debuglevel, profilelevel, 
or printer-notify.

The close-share message-type sends a 
message to smbd which will then close the client connections to
the named share. Note that this doesn't affect client connections
to any other shares. This message-type takes an argument of the
share name for which client connections will be close, or the
"*" character which will close all currently open shares.
This message can only be sent to smbd.

The debug message-type allows 
the debug level to be set to the value specified by the 
parameter. This can be sent to any of the destinations.

The force-election message-type can only be 
sent to the nmbd destination. This message 
causes the \fBnmbd\fR daemon to force a new browse
master election.

The ping message-type sends the 
number of "ping" messages specified by the parameter and waits 
for the same number of reply "pong" messages. This can be sent to 
any of the destinations.

The profile message-type sends a 
message to an smbd to change the profile settings based on the 
parameter. The parameter can be "on" to turn on profile stats 
collection, "off" to turn off profile stats collection, "count"
to enable only collection of count stats (time stats are 
disabled), and "flush" to zero the current profile stats. This can 
be sent to any of the destinations.

The debuglevel message-type sends 
a "request debug level" message. The current debug level setting 
is returned by a "debuglevel" message. This can be 
sent to any of the destinations.

The profilelevel message-type sends 
a "request profile level" message. The current profile level 
setting is returned by a "profilelevel" message. This can be sent 
to any of the destinations.

The printer-notify message-type sends a 
message to smbd which in turn sends a printer notify message to 
any Windows NT clients connected to a printer. This message-type 
takes an argument of the printer name to send notify messages to. 
This message can only be sent to smbd.

The close-share message-type sends a
message to smbd which forces smbd to close the share that was
specified as an argument. This may be useful if you made changes
to the access controls on the share. 
.TP
\fBparameters\fR
any parameters required for the message-type
.SH "VERSION"
.PP
This man page is correct for version 2.2 of 
the Samba suite.
.SH "SEE ALSO"
.PP
\fBnmbd(8)\fR, 
and \fBsmbd(8)\fR.
.SH "AUTHOR"
.PP
The original Samba software and related utilities 
were created by Andrew Tridgell. Samba is now developed
by the Samba Team as an Open Source project similar 
to the way the Linux kernel is developed.
.PP
The original Samba man pages were written by Karl Auer. 
The man page sources were converted to YODL format (another 
excellent piece of Open Source software, available at
ftp://ftp.icce.rug.nl/pub/unix/ <URL:ftp://ftp.icce.rug.nl/pub/unix/>) and updated for the Samba 2.0 
release by Jeremy Allison. The conversion to DocBook for 
Samba 2.2 was done by Gerald Carter
